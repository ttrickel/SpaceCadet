#config_version=6
# mission config file

mode:
  start_events: ball_started 
  stop_events: ball_stopped 
  priority: 200


widgets:
  mission_start_banner:
    type: text
    text: Mission Hit
    font_size: 50
    color: lime
    y: 40%
    expire: 1s
    
  target_mission_start_banner:
    type: text
    text: "Launch Ramp to Accept\nTarget Practice Mission"
    font_size: 50
    color: lime
    y: 20%
#    expire: 1s
    
  launch_mission_start_banner:
    type: text
    text: "Launch Ramp to Accept\nLaunch Training Mission"
    font_size: 50
    color: lime
    y: 20%
 #   expire: 1s
    
  re-entry_mission_start_banner:
    type: text
    text: "Launch Ramp to Accept\nRe-entry Training Mission"
    font_size: 50
    color: lime
    y: 20%
 #   expire: 1s
    
  science_mission_start_banner:
    type: text
    text: "Launch Ramp to Accept\nScience Mission"
    font_size: 50
    color: lime
    y: 20%

widget_player:
  mission_spot_shot_hit: mission_start_banner
  mission_spot_1_shot_hit:
    target_mission_start_banner:
     action: add
    launch_mission_start_banner:
      action: remove
    re-entry_mission_start_banner:
      action: remove 
    science_mission_start_banner:
     action: remove
  mission_spot_2_shot_hit:
    re-entry_mission_start_banner:
      action: add
    target_mission_start_banner:
     action: remove
    launch_mission_start_banner:
      action: remove
    science_mission_start_banner:
     action: remove
  mission_spot_3_shot_hit:
    launch_mission_start_banner:
      action: add
    re-entry_mission_start_banner:
      action: remove
    target_mission_start_banner:
     action: remove
    science_mission_start_banner:
     action: remove
  mission_spot_group_shot_complete:
    launch_mission_start_banner:
      action: remove
    re-entry_mission_start_banner:
      action: remove
    target_mission_start_banner:
     action: remove
    science_mission_start_banner:
     action: add
     
shots:
  mission_spot_1_shot:
    switch: s_mission_spot_1
    show_tokens:
      led: l_mission_spot_1
    profile: mission
    #advance_events: s_mission_spot_1_active
    control_events:
      - events: s_mission_spot_1_active
        state: 1

  mission_spot_2_shot:
    switch: s_mission_spot_2
    show_tokens:
      led: l_mission_spot_2
    profile: mission
    # advance_events: s_mission_spot_2_active
    control_events:
      - events: s_mission_spot_2_active
        state: 1
   
  mission_spot_3_shot:
    switch: s_mission_spot_3
    show_tokens:
      led: l_mission_spot_3
    profile: mission
    # advance_events: s_mission_spot_3_active
    control_events:
      - events: s_mission_spot_3_active
        state: 1

shot_groups:
    mission_spot_group_shot:
        shots: mission_spot_1_shot, mission_spot_2_shot, mission_spot_3_shot
        reset_events: 
           mission_spot_group_shot_lit_complete: 2s 
           
shot_profiles:
  mission:
    states:
      - name: off
        show: off
      - name: lit
        show: "mission_flash_purple"
 #       loops: 0
    loop: true

shows:
    mission_spot_lit:    # define our show to indicate the state
     - lights:
        (led): yellow
        
    mission_all_off:
     - time: 0
       lights:
        l_mission_spot_1: off
        l_mission_spot_2: off
        l_mission_spot_3: off
     - time: +120ms
       lights:
        l_mission_spot_1: purple
        l_mission_spot_2: purple
        l_mission_spot_3: purple
     - time: +120ms
       lights:
        l_mission_spot_1: off
        l_mission_spot_2: off
        l_mission_spot_3: off
     - time: +120ms
       lights:
        l_mission_spot_1: purple
        l_mission_spot_2: purple
        l_mission_spot_3: purple
     - time: +120ms
       lights:
        l_mission_spot_1: off
        l_mission_spot_2: off
        l_mission_spot_3: off
     - time: +120ms
       lights:
        l_mission_spot_1: purple
        l_mission_spot_2: purple
        l_mission_spot_3: purple
     - time: +120ms
       lights:
        l_mission_spot_1: off
        l_mission_spot_2: off
        l_mission_spot_3: off
     - time: +120ms
       lights:
        l_mission_spot_1: purple
        l_mission_spot_2: purple
        l_mission_spot_3: purple
     - time: +120ms
       lights:
        l_mission_spot_1: off
        l_mission_spot_2: off
        l_mission_spot_3: off
     - time: +120ms
       lights:
        l_mission_spot_1: purple
        l_mission_spot_2: purple
        l_mission_spot_3: purple
     - time: +120ms
       lights:
        l_mission_spot_1: off
        l_mission_spot_2: off
        l_mission_spot_3: off
       # duration: -1

    mission_flash_purple:
     - time: 0
       lights:
        (led): purple-f.2s   #on
     - time: +120ms
       lights:
        (led): off-f.2s
     - time: +120ms
       lights:
        (led): purple-f.2s   #on
     - time: +120ms
       lights:
        (led): off-f.2s
     - time: +120ms
       lights:
        (led): purple-f.2s   #on
     - time: +120ms
       lights:
        (led): off-f.2s
     - time: +120ms
       lights:
        (led): purple-f.2s   #on
     - time: +120ms
       lights:
        (led): off-f.2s
     - time: +120ms
       lights:
        (led): purple-f.2s   #on
       duration: -1

show_player:
  # mission_spot_1_shot_hit:
    # mission_flash_purple:
      # loops: 0
      # show_tokens:
        # led: l_mission_spot_1
      # priority: 310
        
  mission_spot_group_shot_lit_complete:
    mission_all_off:
      loops: 0
  
variable_player:
  mission_spot_group_shot_hit:
    score: 1000
